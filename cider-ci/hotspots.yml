---
name: Leihs
traits: "substitute_with_path: cider-ci/partials/traits.yml"
attachments: "substitute_with_path: cider-ci/partials/attachments.yml"
environment_variables: "substitute_with_path: cider-ci/partials/environment_variables.yml"
ports: "substitute_with_path: cider-ci/partials/ports.yml"

contexts:

- name: Meta
  priority: 7
  tasks: "substitute_with_path: cider-ci/tasks/meta.yml"

- name: Rspec 
  priority: 3
  scripts: "substitute_with_path: cider-ci/partials/rspec_context_scripts.yml"
  tasks: 
  - name: controllers hslu_ldap_controller
    scripts:
      rspec:
        body: bundle exec rspec "spec/controllers/hslu_ldap_controller_spec.rb"
  - name: controllers ldap_controller
    scripts:
      show_env:
        order: 1
        body: env | sort
      java_version:
        body: java -version
        order: 1
      rspec:
        body: bundle exec rspec "spec/controllers/ldap_controller_spec.rb"

        
